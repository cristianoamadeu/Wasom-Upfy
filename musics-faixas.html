<!DOCTYPE html>
<html lang="pt-pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wason Upfy</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/estilo.css">
    <link rel="stylesheet" href="../css/libs/scrollue.css">
    <link rel="shortcut icon" href="../imgs/logo.jpg" type="image/x-icon">

    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/javascript.js"></script>
</head>

<style>
    #preview-image {
        width: 400px;
        height: auto;
        border: 1px solid #c71585;
        border-radius: 20px;
        margin-bottom: 10px;
    }
</style>

<body style="background-color: black; color: white;">
    <header class="fixed-top">
        <nav class="navbar bg-body-tertiary ">
            <div class="container-fluid">
                <div>
                    <a class="navbar-brand" href="painel.html"><img src="../imgs/logo.jpg" class="logo"
                            alt="Wason Upfy"></a>
                </div>

                <div class="container_link1">
                    <a class="link_navbar" href="painel.html">Painel de Controlo</a>
                    <a class="link_navbar" href="#"
                        style=" color: #c71585; border-bottom: 1px solid #c71585;  padding: 0 5px;">Minhas músicas</a>
                    <a class="link_navbar" href="financa.html">Finanças</a>
                    <a class="link_navbar" href="estatistic.html">Estatísticas</a>
                    <a class="link_navbar" href="planos.html">Nossos Planos</a>
                    <a class="link_navbar" href="configuration.html">Configurações</a>

                </div>
                <button class="navbar-toggler btn_menu" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-menu" style="color: #c71585;">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
                    aria-labelledby="offcanvasNavbarLabel" style="background-color: black; color: #c71585;">
                    <div class="offcanvas-header" style="padding: 20px 30px 0 30px;">
                        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Wason Upfy</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"
                            style=" background-color: #c71585;">
                        </button>
                    </div>
                    <div class="offcanvas-body">
                        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3" style="row-gap: 10px;">
                            <a class="link_navbar" href="painel.html">Painel de Controlo</a>
                            <a class="link_navbar" href="#"
                                style=" color: #c71585; border-bottom: 1px solid #c71585;  padding: 0 5px;">Minhas
                                músicas</a>
                            <a class="link_navbar" href="financa.html">Finanças</a>
                            <a class="link_navbar" href="estatistic.html">Estatísticas</a>
                            <a class="link_navbar" href="planos.html">Nossos Planos</a>
                            <a class="link_navbar" href="configuration.html">Configurações</a>

                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <!---------------INICIO DO BACKEND---------------->

    <main class="main_blog" style="margin-top: 100px; width: 100%;">
        <!---------------INICIO DO ALBUM DO USUÁRIO---------------->

        <div class="album" id="albuns">
            <main class="album-main"
                style="width: 100%; display: flex; justify-content: flex-start; flex-direction: column;">
                <!---------------INICIO DO ALBUM (LOOP)---------------->
                <div class="album-container"
                    style="backdrop-filter: blur(30px); box-shadow: 0 0 20px #540037; margin-bottom: 10px; padding: 15px;">

                    <div id="tableFaixas" style="width: 100%; align-items: center;">
                        <div class="card flex-fill padding_table"
                            style=" background-color: transparent; border: #c71585 solid 1px; width: 100%;">

                            <div style="display: flex; justify-content: center;">
                                <div class="controlos_musicas">
                                    <!---------------INICIO DAS MÚSICAS (LOOP)---------------->

                                    <div id="previousButton" onclick="nowPlayer_music()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="feather feather-chevron-left" onclick="play_music()">
                                            <polyline points="15 18 9 12 15 6"></polyline>
                                        </svg>
                                    </div>

                                    <div id="playButton" onclick="nowPlayer_music()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round" class="feather feather-play"
                                            onclick="play_music()">
                                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                        </svg>
                                    </div>


                                    <div id="pauseButton" onclick="pause_music()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round" class="feather feather-pause"
                                            onclick="play_music()">
                                            <rect x="6" y="4" width="4" height="16"></rect>
                                            <rect x="14" y="4" width="4" height="16"></rect>
                                        </svg>

                                    </div>

                                    <div id="nextButton" onclick="nowPlayer_music()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="feather feather-chevron-right" onclick="play_music()">
                                            <polyline points="9 18 15 12 9 6"></polyline>
                                        </svg>
                                    </div>
                                    <!---------------FIM DAS MÚSICAS (LOOP)---------------->

                                    <button id="shuffleButton" class="btn btn-sm"
                                        style="background-color: #c71585; color: white;">Ativar Aleatório</button>
                                </div>
                            </div>
                            <div id="nowPlaying">
                                <h4 id="change_text">Agora Reproduzindo:</h4>
                                <h5 id="songTitle" style="color: #c71585;"></h5>
                            </div>
                            <div class="card-header" style="width: 100%;">
                                <div class="rowTop" style="border-bottom: #c71585 solid 1px;">
                                    <div style="margin-bottom: 20px;">
                                        <h5 class="card-title mb-0">Todas as músicas de BlackTime9020/álbum/ - Summer
                                        </h5>
                                    </div>
                                    <div class="button-faixas">
                                        <a href="musics-albuns.html" class="btn"
                                            style="background-color: #c71585; color: white;">


                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round"
                                                class="feather feather-arrow-left">
                                                <line x1="19" y1="12" x2="5" y2="12"></line>
                                                <polyline points="12 19 5 12 12 5"></polyline>
                                            </svg>
                                            Voltar para o(s)
                                            álbun(s)</a>

                                        <a href="musics-faixas-apagarFaixa.html" class="btn btn btn-danger"
                                            style="color: white;">
                                            
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round" class="feather feather-trash-2">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path
                                                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                            </path>
                                            <line x1="10" y1="11" x2="10" y2="17"></line>
                                            <line x1="14" y1="11" x2="14" y2="17"></line>
                                        </svg>
                                            Apagar uma ou mais faixa(s)</a>

                                        <a href="musics-albuns-apagarAlbum.html" class="btn btn-danger"
                                            style="color: white;">
                                            
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round" class="feather feather-trash-2">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path
                                                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                            </path>
                                            <line x1="10" y1="11" x2="10" y2="17"></line>
                                            <line x1="14" y1="11" x2="14" y2="17"></line>
                                        </svg>
                                            Apagar Álbum</a>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-responsive" id="all_users" style=" color: white;">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Artista</th>
                                        <th>Título</th>
                                        <th>Idioma</th>
                                        <th>Música</th>
                                        <th>Lançamnto</th>
                                    </tr>
                                </thead>
                                <tbody id="playlist" style=" width: 100%;">
                                    <tr>
                                        <td>1</td>
                                        <td>Hélder Adão</td>
                                        <td>Novo mundo</td>
                                        <td>Português</td>
                                        <td><audio src="../css/INDUSTRY_BABY[DodoConverter.com].mp3" controls></audio>
                                        </td>
                                        <td>30/04/2024</td>
                                    </tr>

                                    <tr>
                                        <td>1</td>
                                        <td>Hélder Adão</td>
                                        <td>Novo mundo</td>
                                        <td>Português</td>
                                        <td><audio
                                                src="../css/Alex_Co_-_I_am_Nobody_-_Music_Video[DodoConverter.com].mp3"
                                                controls></audio>
                                        </td>
                                        <td>30/04/2024</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>

            </main>

            <!---------------FIM DO ALBUM (LOOP)---------------->
            <hr>

    </main>



    </main>

    <!---------------FIM DO BACKEND---------------->


</body>

<script>
    const checkboxPrincipal = document.getElementById('checkbox-principal');
    const checkboxesSecundarios = document.querySelectorAll('.checkbox-secundario');

    checkboxPrincipal.addEventListener('click', function () {
        const estadoPrincipal = checkboxPrincipal.checked;

        checkboxesSecundarios.forEach(checkbox => {
            checkbox.checked = estadoPrincipal;
        });
    });
</script>

<script>
    const checkboxPrincipal2 = document.getElementById('checkbox-principal2');
    const checkboxesSecundarios2 = document.querySelectorAll('.checkbox-secundario2');

    checkboxPrincipal2.addEventListener('click', function () {
        const estadoPrincipal2 = checkboxPrincipal2.checked;

        checkboxesSecundarios2.forEach(checkbox => {
            checkbox.checked = estadoPrincipal2;
        });
    });
</script>


<script>
    const playlist = document.getElementById('playlist');
    const nowPlayingDiv = document.getElementById('nowPlaying');
    const songTitleP = document.getElementById('songTitle');
    const playButton = document.getElementById('playButton');
    const pauseButton = document.getElementById('pauseButton');
    const previousButton = document.getElementById('previousButton');
    const nextButton = document.getElementById('nextButton');
    const shuffleButton = document.getElementById('shuffleButton');
    let currentSongIndex = 0;
    let isShuffled = false;

    function updateNowPlayingInfo() {
        const currentSong = playlist.querySelectorAll('audio')[currentSongIndex];
        const songTitle = currentSong.dataset.title || currentSong.src.split('/').pop().split('.')[0];
        songTitleP.textContent = songTitle;
    }

    playButton.addEventListener('click', () => {
        const allSongs = playlist.querySelectorAll('audio');
        allSongs[currentSongIndex].play();
        updateNowPlayingInfo();
    });

    pauseButton.addEventListener('click', () => {
        const allSongs = playlist.querySelectorAll('audio');
        for (const song of allSongs) {
            song.pause();
        }
    });

    previousButton.addEventListener('click', () => {
        const allSongs = playlist.querySelectorAll('audio');
        const previousSongIndex = (currentSongIndex - 1 + allSongs.length) % allSongs.length;

        allSongs[currentSongIndex].pause();
        allSongs[previousSongIndex].play();
        currentSongIndex = previousSongIndex;
        updateNowPlayingInfo();
    });

    nextButton.addEventListener('click', playNextSong);

    shuffleButton.addEventListener('click', () => {
        isShuffled = !isShuffled;
        shuffleButton.textContent = isShuffled ? 'Desativar Aleatório' : 'Ativar Aleatório';
    });

    for (const song of playlist.querySelectorAll('audio')) {
        song.addEventListener('playing', () => {
            currentSongIndex = playlist.querySelectorAll('audio').indexOf(song);
            updateNowPlayingInfo();
        });

        song.addEventListener('ended', () => {
            playNextSong();
        });
    }

    function playNextSong() {
        let nextSongIndex;
        if (isShuffled) {
            do {
                nextSongIndex = Math.floor(Math.random() * playlist.querySelectorAll('audio').length);
            } while (nextSongIndex === currentSongIndex);
        } else {
            nextSongIndex = (currentSongIndex + 1) % playlist.querySelectorAll('audio').length;
        }

        const allSongs = playlist.querySelectorAll('audio');
        allSongs[currentSongIndex].pause();
        allSongs[nextSongIndex].play();
        currentSongIndex = nextSongIndex;
        updateNowPlayingInfo();
    }
</script>


<script>

    const inputFiltro = document.querySelector('.filtro');
    const albumContainer = document.querySelector('.album-container');
    const albums = albumContainer.querySelectorAll('.card_planos3');

    inputFiltro.addEventListener('input', function () {
        const filtro = inputFiltro.value.toLowerCase();

        albums.forEach(album => {
            const albumNome = album.querySelector('strong').textContent.toLowerCase();

            if (albumNome.includes(filtro)) {
                album.style.display = 'flex';
                album_vazio.style.display = 'none'
                open_music.style.display = 'flex'
                line_music.style.display = 'flex'
            } else {
                album.style.display = 'none';
                open_music.style.display = 'none'
                album_vazio.style.display = 'flex'
                line_music.style.display = 'none'
                musics.style.display = 'none'
                album_container.style.display = "none"
            }
        });
    });
</script>


<script src="../js/app.js"></script>
<!-- gerador de arquivos, como excel, pdf, e imprimir -->
<script>
    $(function () {
        $("#all_users").DataTable({
            "responsive": true, "lengthChange": false, "autoWidth": false,
        }).buttons().container().appendTo('#all_users_wrapper .col-md-6:eq(0)');
        $('#example2').DataTable({
            "paging": true,
            "lengthChange": false,
            "searching": false,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        });
    });

</script>

<script src="../plugins/jszip/jszip.min.js"></script>
<script src="../plugins/pdfmake/pdfmake.min.js"></script>
<script src="../plugins/pdfmake/vfs_fonts.js"></script>


<script>
    // script.js

    const musicList = document.querySelectorAll('.music-list li');

    musicList.forEach(musicItem => {
        musicItem.addEventListener('click', () => {
            const audioElement = musicItem.querySelector('audio');
            audioElement.play();
            // Opcional: Pausar outras músicas em reprodução
            musicList.forEach(otherItem => {
                if (otherItem !== musicItem) {
                    const otherAudio = otherItem.querySelector('audio');
                    otherAudio.pause();
                }
            });
        });
    });

</script>


<script>
    const inputImage = document.getElementById('input-image');
    const previewImage = document.getElementById('preview-image');
    const errorMessage = document.getElementById('error-message');

    inputImage.addEventListener('change', function () {
        const file = this.files[0];

        if (file) {
            // Validar tamanho da imagem
            if (file.size > 400000) {
                window.alert("Erro: A imagem deve ter no máximo 400 de altula e largura.")
                this.value = '';
                return;
            }

            // Validar formato da imagem
            const allowedExtensions = ['png', 'jpg'];
            const fileExtension = file.name.split('.').pop().toLowerCase();
            if (!allowedExtensions.includes(fileExtension)) {
                window.alert("Erro: Formato de imagem inválido. Selecione PNG ou JPG.")

                return;
            }

            // Limpar mensagem de erro
            errorMessage.textContent = '';

            // Ler a imagem como data URL e definir a pré-visualização
            const reader = new FileReader();
            reader.onload = function (e) {
                previewImage.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
</script>

<script>
    document.getElementsByClassName("arquivo-audio").addEventListener("change", (event) => {
        const arquivo = event.target.files[0];
        const audio = document.getElementsByClassName("audio");

        audio.src = URL.createObjectURL(arquivo);
    });

</script>


</html>